---
title: Fukayatsu Room Controller (FRC)
date: 2013-12-03 22:08 JST
tags: advent-calendar-2013, google-apps, lita
---

> [fukayatsu Advent Calendar 2013](/2013/11/29/advent-calendar-2013/) - 3日目

おなかいたい

## 背景
[RubyとLita(chat bot)で自宅のエアコンを操作する](/2013/08/11/iremocon-and-lita/)ことができるようになって便利になったものの、
横になってPCを使っている時などにHipChatを開いてコマンドを打つのが若干めんどくさくもあった。

## Chrome Appsでリモコンを作った

問題を解決するために、1日目の[Chrome Apps Bootstrap](/2013/12/01/chrome-apps-bootstrap/)を使って部屋のリモコンを作り、(無駄に)[公開した。](https://chrome.google.com/webstore/detail/fukayatsu-room-controller/imkaddobkcpdgncmlokkpcmgfkcflfak)

家電制御に使っているHipChatのroom_idとtokenがあれば、誰でもうちの家電を(無駄に)操作できる。

## screenshots

- Dockの中に登録しておけば、2クリックで電気が消せるので捗る
![w50](/images/2013-12-03-d.png)

- メインタブ
![](/images/2013-12-03-a.png)

- 設定タブ: chromeにログインしていれば他のPCでも同期される。
![](/images/2013-12-03-b.png)

## 技術的なこと
コードはこのあたり
> [home-lita/chrome_app/src/js/window.js at master · fukayatsu/home-lita](https://github.com/fukayatsu/home-lita/blob/master/chrome_app/src/js/window.js)

リモコンのボタンを押すと、hipchat上のroomにコマンドが書き込まれ、それがbotに処理される。
bot側は特に変更の必要が無いので楽だった。

![](/images/2013-12-03-c.png)


## 余談
chrome web storeの拡張機能・Appの公開の上限は20個で、これで上限に達した。
でも半分ぐらいはあまり意味のない拡張機能なのであとで記事に書いたら順次非公開にしていこうと思う。
