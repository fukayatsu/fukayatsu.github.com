<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2013-12-07T03:36:00Z</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>＞Sublime Text 3＜</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/07/sublime-sudden-death/"/>
    <id>http://blog.url.com/2013/12/07/sublime-sudden-death/</id>
    <published>2013-12-07T03:36:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 7日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;sublime text 3 で&lt;br&gt;
＿人人人人人人＿&lt;br&gt;
＞　例のあれ　＜&lt;br&gt;
￣ＹＹＹＹＹＹ￣&lt;br&gt;
をやるやつを書いた。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/fukayatsu/SublimeSuddenDeath"&gt;fukayatsu/SublimeSuddenDeath&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;文字列処理周りがpython 3系向けに書いてあるので、sublime text 2では動かない。&lt;/p&gt;

&lt;p&gt;pull-requestを出したので、悪ふざけだととられなければじきにpackage controlから使えるようになると思う。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/wbond/package_control_channel/pull/2458"&gt;Add Sudden Death by fukayatsu · Pull Request #2458 · wbond/package_control_channel&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;雑感&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;久しぶりのpythonでちょっと戸惑った

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;print(foo)&lt;/code&gt;をつい&lt;code&gt;print foo&lt;/code&gt;と書いてしまう。&lt;code&gt;:&lt;/code&gt;を書き忘れるなど&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;package_control_channelへの追加の仕方が前と変わってた&lt;/li&gt;
&lt;li&gt;作ったあとでSublimeText2のコードを見つけた

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://qiita.com/ice_tkg/items/0865696b3f463a5b63d1"&gt;SublimeText2 - SublimeTextで突然の死 - Qiita [キータ]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>WebサービスをChrome App化する</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/06/chrome-apps-generator/"/>
    <id>http://blog.url.com/2013/12/06/chrome-apps-generator/</id>
    <published>2013-12-06T12:30:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 6日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;昨日作った&lt;a href="/2013/12/06/wriper"&gt;wriper&lt;/a&gt;で結構簡単にWebアプリをChrome Appにできることがわかったので、&lt;br&gt;
ほかのWebアプリも簡単にChromeアプリにできるようにGeneratorを作った。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://chrome-apps-generator.herokuapp.com/"&gt;ChromeAppsGenerator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;使いかた&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href="http://chrome-apps-generator.herokuapp.com/"&gt;http://chrome-apps-generator.herokuapp.com/&lt;/a&gt; でアプリにしたいURLとアプリ名と説明を入力する&lt;br&gt;
&lt;img src="/images/2013-12-06-a.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ダウンロードして解凍&lt;br&gt;
&lt;img alt="w50" src="/images/2013-12-06-b.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;chrome://extensions/ に解凍して出来たフォルダをDrag &amp;amp; Drop&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Launch&lt;/code&gt;をクリック&lt;br&gt;
&lt;img src="/images/2013-12-06-e.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chrome アプリになった&lt;br&gt;
&lt;img src="/images/2013-12-06-c.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;.appも生成されている&lt;br&gt;
&lt;img src="/images/2013-12-06-d.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1&gt;が、しかし日本語入力が出来ない&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;調査中

&lt;ul&gt;
&lt;li&gt;確認したらwriperもだめだった&lt;/li&gt;
&lt;li&gt;この辺の問題？ &lt;a href="https://code.google.com/p/chromium/issues/detail?id=235573"&gt;Issue 235573 - chromium - webview does not properly interface with the IME - An open-source project to help move the web forward. - Google Project Hosting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;そのほかのTODO&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;デザイン調整

&lt;ul&gt;
&lt;li&gt;微妙にwebviewの下の方が切れている&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;アイコンをアップロードできるようにする&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>wriper</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/06/wriper/"/>
    <id>http://blog.url.com/2013/12/06/wriper/</id>
    <published>2013-12-05T15:24:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 5日目&lt;br&gt;
間に合わなかった...&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1&gt;&lt;a href="https://wri.pe/"&gt;wri.pe&lt;/a&gt;をChrome App化した&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://chrome.google.com/webstore/detail/wriper/bjbpioaagmcdgpplnofkgofibdbcfplk"&gt;wriper - Google Chrome Web Store&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src="/images/2013-12-06-wriper.png" /&gt;&lt;/p&gt;

&lt;p&gt;これでevernoteに近い感覚で使える気がする&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>おかゆ</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/04/rice-gruel/"/>
    <id>http://blog.url.com/2013/12/04/rice-gruel/</id>
    <published>2013-12-04T11:57:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 4日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;昨日の午後から体調が悪くてまともに食べてないのでおかゆを作った。&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/2013-12-04.jpg" /&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://cookpad.com/recipe/1288348"&gt;３０分で完成☆1人用土鍋で簡単お粥 by michila [クックパッド]&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
  </entry>
  <entry>
    <title>Fukayatsu Room Controller (FRC)</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/03/frc/"/>
    <id>http://blog.url.com/2013/12/03/frc/</id>
    <published>2013-12-03T13:08:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 3日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;おなかいたい&lt;/p&gt;

&lt;h2&gt;背景&lt;/h2&gt;

&lt;p&gt;&lt;a href="/2013/08/11/iremocon-and-lita/"&gt;RubyとLita(chat bot)で自宅のエアコンを操作する&lt;/a&gt;ことができるようになって便利になったものの、&lt;br&gt;
横になってPCを使っている時などにHipChatを開いてコマンドを打つのが若干めんどくさくもあった。&lt;/p&gt;

&lt;h2&gt;Chrome Appsでリモコンを作った&lt;/h2&gt;

&lt;p&gt;問題を解決するために、1日目の&lt;a href="/2013/12/01/chrome-apps-bootstrap/"&gt;Chrome Apps Bootstrap&lt;/a&gt;を使って部屋のリモコンを作り、(無駄に)&lt;a href="https://chrome.google.com/webstore/detail/fukayatsu-room-controller/imkaddobkcpdgncmlokkpcmgfkcflfak"&gt;公開した。&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;家電制御に使っているHipChatのroom_idとtokenがあれば、誰でもうちの家電を(無駄に)操作できる。&lt;/p&gt;

&lt;h2&gt;screenshots&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dockの中に登録しておけば、2クリックで電気が消せるので捗る&lt;br&gt;
&lt;img alt="w50" src="/images/2013-12-03-d.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;メインタブ&lt;br&gt;
&lt;img src="/images/2013-12-03-a.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;設定タブ: chromeにログインしていれば他のPCでも同期される。&lt;br&gt;
&lt;img src="/images/2013-12-03-b.png" /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;技術的なこと&lt;/h2&gt;

&lt;p&gt;コードはこのあたり&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://github.com/fukayatsu/home-lita/blob/master/chrome_app/src/js/window.js"&gt;home-lita/chrome_app/src/js/window.js at master · fukayatsu/home-lita&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;リモコンのボタンを押すと、hipchat上のroomにコマンドが書き込まれ、それがbotに処理される。&lt;br&gt;
bot側は特に変更の必要が無いので楽だった。&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/2013-12-03-c.png" /&gt;&lt;/p&gt;

&lt;h2&gt;余談&lt;/h2&gt;

&lt;p&gt;chrome web storeの拡張機能・Appの公開の上限は20個で、これで上限に達した。&lt;br&gt;
でも半分ぐらいはあまり意味のない拡張機能なのであとで記事に書いたら順次非公開にしていこうと思う。&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Grape on Rails and Session</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/02/grape-on-rails-and-session/"/>
    <id>http://blog.url.com/2013/12/02/grape-on-rails-and-session/</id>
    <published>2013-12-02T08:43:00Z</published>
    <updated>2013-12-07T03:53:13+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 2日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href="https://github.com/intridea/grape"&gt;intridea/grape&lt;/a&gt;でAPIをRailsにmountして使っていて、両方のCookieSessionを共有したかった。&lt;br&gt;
最終的に以下のようなhelper methodを用意することに落ち着いた。&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;
&lt;span class="c1"&gt;# routes.rb&lt;/span&gt;
&lt;span class="no"&gt;FooBar&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Application&lt;/span&gt;&lt;span class="nf"&gt;.routes.draw&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="n"&gt;mount&lt;/span&gt; &lt;span class="no"&gt;API&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;/api&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;pre class="highlight ruby"&gt;&lt;span class="c1"&gt;# api.rb&lt;/span&gt;
&lt;span class="k"&gt;class &lt;/span&gt;&lt;span class="nc"&gt;API&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="no"&gt;Grape&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;API&lt;/span&gt;
  &lt;span class="nb"&gt;format&lt;/span&gt; &lt;span class="ss"&gt;:json&lt;/span&gt;

  &lt;span class="n"&gt;helpers&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="k"&gt;def &lt;/span&gt;&lt;span class="nf"&gt;session&lt;/span&gt;
      &lt;span class="n"&gt;env&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="no"&gt;Rack&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Session&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Abstract&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;ENV_SESSION_KEY&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;

  &lt;span class="n"&gt;mount&lt;/span&gt; &lt;span class="no"&gt;API&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;V1&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;
&lt;h1&gt;余談&lt;/h1&gt;

&lt;blockquote&gt;
&lt;p&gt;Session is responsible for lazily loading the session from store.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/docs/rails/ActionDispatch/Request/Session"&gt;ActionDispatch::Request::Session&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;にあるようにsessionの情報は&lt;code&gt;Session#[]&lt;/code&gt;や&lt;code&gt;Session#[]=&lt;/code&gt;の初回呼び出し時にloadされ、&lt;br&gt;
その前に&lt;code&gt;Session#inspect&lt;/code&gt;が呼ばれると&lt;code&gt;#&amp;lt;Session [id] not yet loaded&amp;gt;&lt;/code&gt;が返ってくる。&lt;/p&gt;
</content>
  </entry>
</feed>
