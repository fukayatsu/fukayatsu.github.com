<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog Name</title>
  <subtitle>Blog subtitle</subtitle>
  <id>http://blog.url.com/</id>
  <link href="http://blog.url.com/"/>
  <link href="http://blog.url.com/feed.xml" rel="self"/>
  <updated>2013-12-14T04:05:00Z</updated>
  <author>
    <name>Blog Author</name>
  </author>
  <entry>
    <title>おれのさぶらいむてきすとはインデントが見やすい</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/14/my-sublime-text-indent-guide/"/>
    <id>http://blog.url.com/2013/12/14/my-sublime-text-indent-guide/</id>
    <published>2013-12-14T04:05:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;p&gt;この記事は、&lt;a href="http://www.adventar.org/calendars/184"&gt;おれのさぶらいむてきすと Advent Calendar 2013 - Adventar&lt;/a&gt;の14日目です。&lt;/p&gt;

&lt;p&gt;前回は&lt;a href="https://twitter.com/irohiroki"&gt;irohiroki&lt;/a&gt;さんの&lt;a href="http://irohiroki.github.io/blog/2013/12/13/sublime-texts-multiple-selection-and-me/"&gt;おれとさぶらいむてきすとの複数選択&lt;/a&gt;でした。&lt;/p&gt;

&lt;p&gt;(密かに&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt;の14日目でもあったりします)&lt;/p&gt;

&lt;h2&gt;おれとさぶらいむ&lt;/h2&gt;

&lt;p&gt;去年の夏ぐらいからメインのテキストエディタとしてSublime Text 2を使っていて、&lt;br&gt;
数ヶ月前からはSublime Text 3を使っています。&lt;/p&gt;

&lt;p&gt;この記事で使っているカラーテーマは&lt;a href="https://github.com/thinkpixellab/flatland"&gt;thinkpixellab/flatland&lt;/a&gt;をforkした&lt;a href="https://github.com/fukayatsu/flatland"&gt;fukayatsu/flatland&lt;/a&gt;です。&lt;/p&gt;

&lt;h2&gt;さぶらいむてきすとのインデントガイド&lt;/h2&gt;

&lt;p&gt;Sublime Text のデフォルト設定はこんな感じです。&lt;/p&gt;
&lt;pre class="highlight javascript"&gt;&lt;span class="c1"&gt;// Packages/Default/Preferences.sublime-settings
&lt;/span&gt;
    &lt;span class="c1"&gt;// Set to false to turn off the indentation guides.
&lt;/span&gt;    &lt;span class="c1"&gt;// The color and width of the indent guides may be customized by editing
&lt;/span&gt;    &lt;span class="c1"&gt;// the corresponding .tmTheme file, and specifying the colors &amp;quot;guide&amp;quot;,
&lt;/span&gt;    &lt;span class="c1"&gt;// &amp;quot;activeGuide&amp;quot; and &amp;quot;stackGuide&amp;quot;
&lt;/span&gt;    &lt;span class="s2"&gt;&amp;quot;draw_indent_guides&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;

    &lt;span class="c1"&gt;// Controls how the indent guides are drawn, valid options are
&lt;/span&gt;    &lt;span class="c1"&gt;// &amp;quot;draw_normal&amp;quot; and &amp;quot;draw_active&amp;quot;. draw_active will draw the indent
&lt;/span&gt;    &lt;span class="c1"&gt;// guides containing the caret in a different color.
&lt;/span&gt;    &lt;span class="s2"&gt;&amp;quot;indent_guide_options&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;draw_normal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;インデントの深さごとに、薄い縦線が引かれます。&lt;/p&gt;

&lt;p&gt;&lt;a href="/images/2013-12-14-a.png"&gt;&lt;img src="/images/2013-12-14-a.png" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;でもインデントがspace 2とかだと、どのインデントの中にいるのか迷子になることがあります。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;ユーザ設定で上書きしてやります。&lt;/p&gt;
&lt;pre class="highlight javascript"&gt;&lt;span class="c1"&gt;// Packages/User/Preferences.sublime-settings
&lt;/span&gt;    &lt;span class="s2"&gt;&amp;quot;draw_indent_guides&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;indent_guide_options&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;draw_normal&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;draw_active&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;インデントの種類によって色分けされるようになりました。&lt;br&gt;
&lt;a href="/images/2013-12-14-b.png"&gt;&lt;img src="/images/2013-12-14-b.png" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;使っているカラーテーマによってはdraw_active時のインデントガイドの設定がないことがあるので、&lt;br&gt;
そういう場合は自分で色を指定します。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;[カラーテーマ名].tmTheme&lt;/code&gt;の中の&lt;code&gt;&amp;lt;key&amp;gt;guide&amp;lt;/key&amp;gt;&lt;/code&gt;を探して、&lt;code&gt;activeGuide&lt;/code&gt;と&lt;code&gt;stackGuide&lt;/code&gt;の設定を追加します。色は適当です。&lt;/p&gt;
&lt;pre class="highlight xml"&gt;&lt;span class="c"&gt;&amp;lt;!-- 通常のインデント --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;key&amp;gt;&lt;/span&gt;guide&lt;span class="nt"&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;#444444&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- 自分が今いるインデント --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;key&amp;gt;&lt;/span&gt;activeGuide&lt;span class="nt"&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;#aa7b60&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- 自分が今いるインデントの親 --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;key&amp;gt;&lt;/span&gt;stackGuide&lt;span class="nt"&gt;&amp;lt;/key&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;string&amp;gt;&lt;/span&gt;#607b60&lt;span class="nt"&gt;&amp;lt;/string&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;a href="/images/2013-12-14-guides.png"&gt;&lt;img src="/images/2013-12-14-guides.png" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;これでインデントが見やすくなったのではないかと思います。&lt;/p&gt;

&lt;p&gt;ちなみにvimだと同様のプラグインとして、&lt;br&gt;
&lt;a href="https://github.com/nathanaelkane/vim-indent-guides"&gt;nathanaelkane/vim-indent-guides&lt;/a&gt;が有名なようです。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;次回は&lt;a href="https://twitter.com/s12bt"&gt;s12bt&lt;/a&gt;さんです！&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>JavaScript String Replace</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/13/js-string-replace/"/>
    <id>http://blog.url.com/2013/12/13/js-string-replace/</id>
    <published>2013-12-13T11:51:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 13日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;今日遭遇したバグの話&lt;/p&gt;
&lt;pre class="highlight javascript"&gt;&lt;span class="s1"&gt;&amp;#39;foo bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;$$BAZ$$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;// =&amp;gt; &amp;quot;foo $BAZ$&amp;quot;
&lt;/span&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;&amp;quot;$$BAZ$$&amp;quot;&lt;/code&gt;が返ってくるのを期待していたコードだったが、&lt;br&gt;
第二引数に&lt;code&gt;$$&lt;/code&gt;が含まれる場合、&lt;code&gt;replace&lt;/code&gt;メソッドによって&lt;code&gt;$$&lt;/code&gt;が&lt;code&gt;$&lt;/code&gt;に置換されるため、&lt;br&gt;
意図したとおりに動いていなかった。&lt;/p&gt;

&lt;p&gt;次のように修正した。&lt;/p&gt;
&lt;pre class="highlight javascript"&gt;&lt;span class="s1"&gt;&amp;#39;foo bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;$$BAZ$$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;$$&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="c1"&gt;// =&amp;gt; &amp;quot;foo $$BAZ$$&amp;quot;
&lt;/span&gt;&lt;/pre&gt;</content>
  </entry>
  <entry>
    <title>Active Support Core Extensions</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/12/active_support_core_extensions/"/>
    <id>http://blog.url.com/2013/12/12/active_support_core_extensions/</id>
    <published>2013-12-12T12:33:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 12日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href="http://edgeguides.rubyonrails.org/active_support_core_extensions.html"&gt;Active Support Core Extensions — Ruby on Rails Guides&lt;/a&gt;を斜め読みした。&lt;br&gt;
普段から使ってるのに、半分も知らなかった。&lt;/p&gt;

&lt;p&gt;「へー」と思ったメモ:&lt;/p&gt;

&lt;h3&gt;String&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;5.5 inquiry

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Rails.env.production?&lt;/code&gt;とかやってるあれ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;5.8 indent

&lt;ul&gt;
&lt;li&gt;インデント&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;5.10.5 titleize

&lt;ul&gt;
&lt;li&gt;タイトルっぽくする&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;5.10.14 foreign_key

&lt;ul&gt;
&lt;li&gt;foreign_keyっぽくする&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Numeric&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;6.1 Bytes

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;2.kilobytes   # =&amp;gt; 2048&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Enumerable&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;9.3 many?

&lt;ul&gt;
&lt;li&gt;1より大きいものは&amp;quot;たくさん&amp;quot;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Hash&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;11.6 Extracting

&lt;ul&gt;
&lt;li&gt;KVを引き抜くイメージ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;他にも時刻、時間関係の拡張が沢山ある。&lt;br&gt;
中には正直英語圏の人しか使わないのではというものもあるけど、&lt;br&gt;
Railsっぽいコードを書くために、使えるところでは使っていきたい。&lt;/p&gt;

&lt;p&gt;TODO&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;各メソッドの定義を確認&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>＞Sublime Text 3＜、その後</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/11/sublime-sudden-death-2/"/>
    <id>http://blog.url.com/2013/12/11/sublime-sudden-death-2/</id>
    <published>2013-12-11T13:46:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 11日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;7日目の&lt;a href="/2013/12/07/sublime-sudden-death/"&gt;＞例のあれ＜&lt;/a&gt;がSublimeText Package Control Channelに&lt;a href="https://github.com/wbond/package_control_channel/pull/2458"&gt;無事にマージされた&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;案の定「ごめん、なにこれ？」と聞かれたので、&lt;br&gt;
「日本で使われるアスキーアートの一種だよ」的な説明をするはめになった。&lt;/p&gt;

&lt;p&gt;インストールも簡単になったし、便利なのでSublime Text 3な人は使ってみてください。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href="https://github.com/fukayatsu/SublimeSuddenDeath"&gt;fukayatsu/SublimeSuddenDeath&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img alt="w50" src="/images/2013-12-11-a.png" /&gt;&lt;br&gt;
&lt;img alt="w50" src="/images/2013-12-11-b.png" /&gt;&lt;br&gt;
&lt;img alt="w50" src="/images/2013-12-11-c.png" /&gt;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>jquery-and-file-upload</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/10/jquery-and-file-upload/"/>
    <id>http://blog.url.com/2013/12/10/jquery-and-file-upload/</id>
    <published>2013-12-10T12:57:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 10日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;jQueryでformを作らずにfileをuploadしたかったので、&lt;br&gt;
大体こんな感じのコードを書いた。&lt;/p&gt;
&lt;pre class="highlight html"&gt;&lt;span class="nt"&gt;&amp;lt;input&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;file&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;file_to_upload&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;pre class="highlight javascript"&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;formData&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;FormData&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="nx"&gt;formData&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;#file_to_upload&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;files&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
&lt;span class="nx"&gt;formData&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ajax&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
  &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;POST&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/server/uploader&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;data&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;formData&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;contentType&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;processData&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="na"&gt;success&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
    &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/pre&gt;
&lt;p&gt;注意すべきは&lt;code&gt;contentType: false&lt;/code&gt;と&lt;code&gt;processData: false&lt;/code&gt;で、&lt;br&gt;
これらを指定しないとjQueryがデフォルト値を使ってしまってエラーになる。&lt;/p&gt;

&lt;p&gt;あと、IE10未満だと&lt;code&gt;FormData&lt;/code&gt;クラスは使えないようだ。&lt;/p&gt;

&lt;h2&gt;参考&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/5392344/sending-multipart-formdata-with-jquery-ajax"&gt;Sending multipart/formdata with jQuery.ajax - Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>かにさん(twitter bot)</title>
    <link rel="alternate" href="http://blog.url.com/2013/12/09/twitter-bot/"/>
    <id>http://blog.url.com/2013/12/09/twitter-bot/</id>
    <published>2013-12-09T13:12:00Z</published>
    <updated>2013-12-14T05:18:36+00:00</updated>
    <author>
      <name>Article Author</name>
    </author>
    <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href="/2013/11/29/advent-calendar-2013/"&gt;fukayatsu Advent Calendar 2013&lt;/a&gt; - 9日目&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href="https://github.com/sferik/twitter"&gt;sferik/twitter&lt;/a&gt;のバージョンが5に上がったので、その検証を兼ねてtwitter botを作った。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://twitter.com/kani_acid"&gt;かにさん (kani_acid) on Twitter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote class="twitter-tweet" lang="en"&gt;&lt;p&gt;一瞬でほっこりっていうかにやにやですわ&lt;/p&gt;&amp;mdash; かにさん (@kani_acid) &lt;a href="https://twitter.com/kani_acid/statuses/409983296315981824"&gt;December 9, 2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;blockquote class="twitter-tweet" lang="en"&gt;&lt;p&gt;ズズッ、ぷは〜(ほっこりほっこりと家の近くの自販機で買うこのミルクセーキは実は思い出 (&amp;#39;､3_ヽ)ほっこりばーか&lt;/p&gt;&amp;mdash; かにさん (@kani_acid) &lt;a href="https://twitter.com/kani_acid/statuses/409922898178998272"&gt;December 9, 2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;blockquote class="twitter-tweet" lang="en"&gt;&lt;p&gt;そんなことなかった！かわいい！ぬいぐるみみたいだ！&lt;/p&gt;&amp;mdash; かにさん (@kani_acid) &lt;a href="https://twitter.com/kani_acid/statuses/409885207873851393"&gt;December 9, 2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;blockquote class="twitter-tweet" lang="en"&gt;&lt;p&gt;あーそれとてもいいですねえ（ほっこりかい∩^ω^)⊃━☆゜.*・。&lt;/p&gt;&amp;mdash; かにさん (@kani_acid) &lt;a href="https://twitter.com/kani_acid/statuses/409865156286369792"&gt;December 9, 2013&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;仕組み的には&lt;a href="https://twitter.com/shuumai"&gt;しゅうまい君&lt;/a&gt;と同じで、学習した単語からマルコフ連鎖で文章を生成している。&lt;/p&gt;

&lt;p&gt;学習はhome timelineと&lt;code&gt;ほっこり&lt;/code&gt;で検索した結果が元になっているので、&lt;br&gt;
全体的にtweetがほっこりしている&lt;/p&gt;

&lt;p&gt;tweetがfavられることによって単語の重み付けを変化させる機能もつけたが、&lt;br&gt;
いかんせんまだデータが足りない&lt;/p&gt;

&lt;h1&gt;Twitter::Streaming::Client&lt;/h1&gt;

&lt;p&gt;twitter gemはver 5から、Streaming APIを単体で使えるようになった (Experimental)。今回はこんな感じで使っている&lt;/p&gt;
&lt;pre class="highlight ruby"&gt;&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;Twitter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Streaming&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Client&lt;/span&gt;&lt;span class="nf"&gt;.new&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="nf"&gt;.consumer_key&lt;/span&gt;        &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOUR_CONSUMER_KEY&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="nf"&gt;.consumer_secret&lt;/span&gt;     &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOUR_CONSUMER_SECRET&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="nf"&gt;.access_token&lt;/span&gt;        &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOUR_ACCESS_TOKEN&amp;quot;&lt;/span&gt;
  &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="nf"&gt;.access_token_secret&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;YOUR_ACCESS_SECRET&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="nf"&gt;.user&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;object&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt;
  &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="no"&gt;Twitter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Tweet&lt;/span&gt;
    &lt;span class="c1"&gt;# tweetを学習する&lt;/span&gt;
  &lt;span class="k"&gt;when&lt;/span&gt; &lt;span class="no"&gt;Twitter&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Streaming&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="no"&gt;Event&lt;/span&gt;
    &lt;span class="n"&gt;event&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="nf"&gt;.name&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="ss"&gt;:favorite&lt;/span&gt;
      &lt;span class="c1"&gt;# 単語の重みづけを変更する&lt;/span&gt;
    &lt;span class="k"&gt;elsif&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="nf"&gt;.name&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="ss"&gt;:follow&lt;/span&gt;
      &lt;span class="c1"&gt;# フォローバックする&lt;/span&gt;
    &lt;span class="k"&gt;end&lt;/span&gt;
  &lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;
&lt;h2&gt;サーバ&lt;/h2&gt;

&lt;p&gt;最初はherokuに上げようかと思ったけど、単語リストが結構レコード数増えそうなので、 &lt;a href="http://rackhub.net/"&gt;http://rackhub.net/&lt;/a&gt; を使っている。&lt;/p&gt;

&lt;p&gt;多分無料でSSHが使えるレンタルサーバもたくさんあるだろうけど、rackhubは作ったり壊したりが楽でよい。&lt;/p&gt;
</content>
  </entry>
</feed>
